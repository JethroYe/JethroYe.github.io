<!DOCTYPE html> <!--[if lt IE 7]><html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]--> <!--[if (IE 7)&!(IEMobile)]><html class="no-js lt-ie9 lt-ie8"><![endif]--> <!--[if (IE 8)&!(IEMobile)]><html class="no-js lt-ie9"><![endif]--> <!--[if gt IE 8]><!--> <html class="no-js"><!--<![endif]--> <head> <meta charset="UTF-8"> <meta content="text/html; charset=UTF-8" http-equiv="Content-Type"> <meta http-equiv=X-UA-Compatible content="IE=edge,chrome=1"> <title>All Posts &#8211; Whoops</title> <meta name="description" content="Moon is a minimal, one column jekyll theme for your blog."> <!-- Twitter Cards --> <meta name="twitter:card" content="summary"> <meta name="twitter:image" content="http://localhost:4000/assets/img/logo.png"> <meta name="twitter:title" content="All Posts"> <meta name="twitter:description" content="A List of Posts"> <!-- Open Graph --> <meta property="og:locale" content="en_US"> <meta property="og:type" content="article"> <meta property="og:title" content="All Posts"> <meta property="og:description" content="A List of Posts"> <meta property="og:url" content="http://localhost:4000/posts/"> <meta property="og:site_name" content="Whoops"> <meta property="og:image" content="http://localhost:4000/assets/img/logo.png"> <link rel="canonical" href="http://localhost:4000/posts/"> <link href="http://localhost:4000/feed.xml" type="application/atom+xml" rel="alternate" title="Whoops Feed"> <!-- Handheld --> <meta name="HandheldFriendly" content="True"> <meta name="MobileOptimized" content="320"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <!-- CSS --> <link rel="stylesheet" href="http://localhost:4000/assets/css/main.css"> <!-- JS --> <script src="http://localhost:4000/assets/js/modernizr-3.3.1.custom.min.js"></script> <!-- Favicons --> <link rel="apple-touch-icon" href="http://localhost:4000/assets/img/favicons/apple-icon-precomposed.png"> <link rel="apple-touch-icon" sizes="72x72" href="http://localhost:4000/assets/img/favicons/apple-icon-72x72.png"> <link rel="apple-touch-icon" sizes="114x114" href="http://localhost:4000/assets/img/favicons/apple-icon-114x114.png"> <link rel="apple-touch-icon" sizes="144x144" href="http://localhost:4000/assets/img/favicons/apple-icon-144x144.png"> <link rel="shortcut icon" type="image/png" href="http://localhost:4000/favicon.png" /> <link rel="shortcut icon" href="http://localhost:4000/favicon.ico" /> <!-- Background Image --> <style type="text/css">body {background-image:url(http://localhost:4000/assets/img/placeholder-big.jpg); background-repeat: no-repeat; background-size: cover; }</style> <!-- Post Feature Image --> </head> <body> <nav id="dl-menu" class="dl-menuwrapper" role="navigation"> <button class="dl-trigger">Open Menu</button> <ul class="dl-menu"> <li><a href="http://localhost:4000/">Home</a></li> <li> <a href="#">About</a> <ul class="dl-submenu"> <li> <img src="http://localhost:4000/assets/img/logo.png" alt="Whoops photo" class="author-photo"> <h4>Whoops</h4> <p>Moon is a minimal, one column jekyll theme for your blog.</p> </li> <li><a href="http://localhost:4000/about/"><span class="btn btn-inverse">Learn More</span></a></li> <li> <a href="http://instagram.com/yeyuxuan.ins" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-instagram"></i> Instagram</a> </li> <li> <a href="http://github.com/jethroye" target="_blank" rel="noopener noreferrer"><i class="fa fa-fw fa-github"></i> Github</a> </li> </ul><!-- /.dl-submenu --> </li> <li> <a href="#">Posts</a> <ul class="dl-submenu"> <li><a href="http://localhost:4000/posts/">All Posts</a></li> <li><a href="http://localhost:4000/tags/">All Tags</a></li> </ul> </li> <li><a href="http://localhost:4000/projects/" >Projects</a></li> </ul><!-- /.dl-menu --> </nav><!-- /.dl-menuwrapper --> <!-- Header --> <header class="header" role="banner"> <div class="wrapper animated fadeIn"> <div class="content"> <div class="post-title"> <h1>All Posts</h1> <a class="btn zoombtn" href="http://localhost:4000"> <i class="fa fa-home"></i> </a> </div> <div class="post-list"> <ul> <li class="wow fadeInLeft" data-wow-duration="1.5s"> <a class="zoombtn" href="http://localhost:4000/how-to-Install-Xcode-homebrew-git-ruby/">MacOS 配置ruby环境指引</a> <p><blockquote> <p><big><em>世界上80%的有效知识都是英文书写的</em></big><br /> <big>由于谷歌机翻结果往往差强人意，所以我准备不定期翻译一些有价值的英文资料或是技术文档。</big> <br /> <big>此过程不仅帮助我掌握知识，同时也能为网络社区贡献更多中文力量</big><br /> <big>原文：<strong><a href="https://www.moncefbelyamani.com/how-to-install-xcode-homebrew-git-rvm-ruby-on-mac/?utm_source=stackoverflow">How to install Xcode, Homebrew, Git, a Ruby manager (chruby, rbenv, RVM), Rails, Jekyll on macOS (including M1 Apple Silicon)</a></strong><big></big></big></p> </blockquote> </p> <a href="http://localhost:4000/how-to-Install-Xcode-homebrew-git-ruby/" class="btn zoombtn">Read More</a> </li> </ul> <ul> <li class="wow fadeInLeft" data-wow-duration="1.5s"> <a class="zoombtn" href="http://localhost:4000/libmalloc2-alloc/">libmalloc 知识学习（二）申请</a> <p><p>在上一篇<a href="libmalloc1-strcut">libmalloc 知识学习（一）结构</a>中了解了 Apple 广泛使用的内存库libmalloc，学习了libmalloc的组成结构，这一篇文章将会重点研究libmalloc是如何分配内存的。</p> </p> <a href="http://localhost:4000/libmalloc2-alloc/" class="btn zoombtn">Read More</a> </li> </ul> <ul> <li class="wow fadeInLeft" data-wow-duration="1.5s"> <a class="zoombtn" href="http://localhost:4000/libmalloc1-strcut/">libmalloc 知识学习（一）结构</a> <p><h2 id="大概说说内存">大概说说内存</h2> <p>内存一台计算机中所有程序共享的重要的系统资源。程序将自己的代码和数据装载进内存中才能运行起来。为了使用连续的地址空间，以及进程/内核之间的内存隔离与共享等等诸多优点，现在几乎所有的操作系统都会使用<strong>虚拟内存</strong>。当程序代码访问到逻辑地址时，<strong>MMU</strong>(memory management unit)通过页表将逻辑地址转换为实际的硬件地址。如果应用程序访问一段当前不在物理 RAM 中的内存页上的地址，就会发生 <strong>page fault</strong>。此时虚拟内存系统会调用一个特殊的页面错误处理程序来立即响应错误。页面错误处理程序停止当前正在执行的代码，寻找一个空闲的物理内存页面，从磁盘加载包含所需数据的页面，更新页表，然后将控制权返回给程序代码。这个过程被称为<strong>paging</strong>。请注意这个过程是有些耗时的。通过优化掉这些耗时，可以一定程度提高App的启动速度。 这就是 <a href="https://www.infoq.cn/article/b8m2hrjwbryr7tasurhq">抖音二进制重排提高启动速度</a> 的原理。</p> </p> <a href="http://localhost:4000/libmalloc1-strcut/" class="btn zoombtn">Read More</a> </li> </ul> <ul> <li class="wow fadeInLeft" data-wow-duration="1.5s"> <a class="zoombtn" href="http://localhost:4000/optimization-level-in-xcode/">Xcode 中编译选项的变化可能会帮你避免内存泄漏</a> <p><p>前段时间，在研究内存泄漏检测的的过程中，我写了一个测试case 用于测试内存泄漏。并且使用这个case 来研究OOMDetector <sup id="fnref:1" role="doc-noteref"><a href="#fn:1" class="footnote" rel="footnote">1</a></sup> 的机制和原理</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>//测试case
- (void)helloWorld { 
     void* pointer = malloc(500*1024*1024);
     memset(pointer, 255, 500*1024*1024);
 }
</code></pre></div></div> <p>这个case 非常简单：在一个栈变量pointer 申请了500MB内存，并且将其涂写。 在iOS 中，申请并且使用过的内存就是dirty 的内存了，dirty内存是没办法被系统回收的。随着函数退出，栈变量pointer被回收，这500MB的内存将没有指针指向它，</p> <div class="footnotes" role="doc-endnotes"> <ol> <li id="fn:1" role="doc-endnote"> <p>OOMDetector 是腾讯出品的一款内存泄漏检测工具。 <a href="https://github.com/Tencent/OOMDetector">OOMDetector</a> <a href="#fnref:1" class="reversefootnote" role="doc-backlink">&#8617;</a></p> </li> </ol> </div> </p> <a href="http://localhost:4000/optimization-level-in-xcode/" class="btn zoombtn">Read More</a> </li> </ul> </div> </div> </div> </header> <!-- JS --> <script src="http://localhost:4000/assets/js/jquery-1.12.0.min.js"></script> <script src="http://localhost:4000/assets/js/jquery.dlmenu.min.js"></script> <script src="http://localhost:4000/assets/js/jquery.goup.min.js"></script> <script src="http://localhost:4000/assets/js/jquery.magnific-popup.min.js"></script> <script src="http://localhost:4000/assets/js/jquery.fitvid.min.js"></script> <script src="http://localhost:4000/assets/js/scripts.js"></script> <script src="http://localhost:4000/assets/js/wow.min.js"></script> <script type="text/javascript">(new WOW).init();</script> </body> </html>
